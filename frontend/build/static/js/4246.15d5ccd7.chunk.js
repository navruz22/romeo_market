"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1181,4246],{760:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(5043),i=a(7630),r=a(4012),n=a(4964),l=a(2039),c=a(3297),u=a(9456),o=a(4235),p=a(8054),d=a(1605),m=a(486),g=a(7919),h=a(3734),f=a(5618),x=a(7424),v=a(200),y=a(9092),k=a(3536),P=a(3216),S=a(8069),j=a(579);const w=()=>{const[e,t]=(0,s.useState)(window.innerWidth<=768);(0,s.useEffect)((()=>{const e=()=>{t(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const{t:a}=(0,y.B)(["common"]),w=(0,u.wA)(),E=(0,P.Zp)(),{errorSuppliers:b,suppliers:A,successAddSupplier:z,successUpdateSupplier:C,successDeleteSupplier:N,loading:B,searchedSuppliers:Y,total:D,totalSearched:T}=(0,u.d4)((e=>e.suppliers)),_=[{title:a("\u2116"),styles:"w-[8%] text-left"},{title:a("Yetkazuvchi"),styles:"w-[84%] text-left"},{title:"",styles:"w-[8%] text-left"}],[q,L]=(0,s.useState)(A),[W,$]=(0,s.useState)(Y),[J,M]=(0,s.useState)(""),[O,F]=(0,s.useState)(""),[R,Z]=(0,s.useState)(null),[I,Q]=(0,s.useState)(!1),[U,G]=(0,s.useState)(!1),[H,K]=(0,s.useState)("10"),[V,X]=(0,s.useState)(0),[ee,te]=(0,s.useState)(D),[ae,se]=(0,s.useState)(""),ie=()=>Q(!I),re=e=>{F(e),M(e.name),G(!0)},ne=e=>{Z(e),ie()},le=()=>{Q(!1),Z(null)},ce=e=>{e&&e.preventDefault(),M(""),F(null),G(!1),Z(null)},ue=e=>{let{value:t}=e;K(t),X(0)},oe=e=>{E(`/hamkorlar/yetkazuvchilar/${e}`)};return(0,s.useEffect)((()=>{b&&((0,h.lY)(b,"error"),w((0,m.T3)())),z&&((0,h.Im)(),w((0,m.a2)()),w((0,g.Jr)()),ce()),C&&((0,h.YB)(),w((0,m._i)()),w((0,g.Jr)()),F(""),G(!1),ce()),N&&(w((0,g.Jr)()),(0,h.yx)(),w((0,m.Ey)()),ce())}),[w,b,z,C,N]),(0,s.useEffect)((()=>{const e={currentPage:V,countPage:H,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.M7)(e))}),[w,H,V]),(0,s.useEffect)((()=>{L(A)}),[A]),(0,s.useEffect)((()=>{te(D)}),[D]),(0,s.useEffect)((()=>{$(Y)}),[Y]),(0,j.jsxs)(d.P.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.8,ease:[.04,.62,.23,.98]},children:[(0,j.jsx)(f.A,{headerText:`${R&&R.name} ${a("yetkazib beruvchini o`chirishni tasdiqlaysizmi?")}`,title:a("O`chirilgan yetkazib beruvchini tiklashning imkoni mavjud emas!"),toggleModal:ie,body:"approve",approveFunction:()=>{const e={_id:R._id,currentPage:V,countPage:H,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.O5)(e)),le()},closeModal:le,isOpen:I}),(0,j.jsx)("form",{className:`flex ps-[20px] gap-[1.25rem] lg:mt-0 mt-[40px] bg-background flex-col mainPadding transition ease-linear duration-200 ${U&&"stickyForm"}`,children:(0,j.jsxs)("div",{className:"supplier-style",children:[(0,j.jsx)(i.A,{label:a("Yetkazuvchi ismi"),placeholder:"",maxWidth:"w-[41rem]",type:"string",value:J,onChange:e=>{M(e.target.value)}}),(0,j.jsxs)("div",{className:"flex gap-[1.25rem] grow w-[20.8125rem]",children:[(0,j.jsx)(r.A,{add:!U,edit:U,text:a(U?"Saqlash":"Yangi yetkazuvchi qo`shish"),onClick:U?e=>{e.preventDefault();const{failed:t,message:s}=(0,v.py)([{value:J,message:a("Yetkazuvchi ismi")}]);if(t)(0,h.EB)(s);else{const e={name:J,_id:O._id,currentPage:V,countPage:H,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.iQ)(e))}}:e=>{e.preventDefault();const{failed:t,message:s}=(0,v.py)([{value:J,message:a("Yetkazuvchi ismi")}]);if(t)(0,h.EB)(s);else{const e={name:J,currentPage:V,countPage:H,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.qE)(e))}}}),(0,j.jsx)(r.A,{onClick:ce,text:a("Tozalash")})]})]})}),(0,j.jsxs)("div",{className:"flex ps-[10px] items-center ",children:[(0,j.jsx)(S.A,{onSelect:ue},"total_1"),(0,j.jsx)(x.A,{filterByTotal:ue,filterBy:["total","name"],filterByName:e=>{let t=e.target.value,a=t.toLowerCase().replace(/\s+/g," ").trim();if(se(t),(W.length>0||T>0)&&w((0,m.cZ)()),""===a)L(A),te(D);else{const e=(0,k.filter)(A,(e=>e.name.toLowerCase().includes(a)));L(e),te(e.length)}},searchByName:ae,filterByCodeAndNameAndCategoryWhenPressEnter:e=>{if("Enter"===e.key){const e={currentPage:V,countPage:H,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.PY)(e))}}})]}),(0,j.jsx)("div",{className:"lg:tableContainerPadding",children:B?(0,j.jsx)(o.A,{}):0===q.length&&0===W.length?(0,j.jsx)(p.A,{text:a("Yetkazib beruvchilar mavjud emas")}):e?(0,j.jsx)(c.A,{data:W.length>0?W:q,page:"supplier",currentPage:V,countPage:H,headers:_,Edit:re,Delete:ne,linkToSupplierReport:oe}):(0,j.jsx)(l.A,{data:W.length>0?W:q,page:"supplier",currentPage:V,countPage:H,headers:_,Edit:re,Delete:ne,linkToSupplierReport:oe})}),(0,j.jsx)("div",{className:"pagination-supplier flex justify-center [mb-30px] mt-[30px]",children:(0!==ee||0!==T)&&(0,j.jsx)(n.A,{countPage:Number(H),totalDatas:T||ee,currentPage:V,setCurrentPage:X})})]},"content")}}}]);
//# sourceMappingURL=4246.15d5ccd7.chunk.js.map