"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1181,9990],{7384:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(5043),n=a(4012),r=a(2039),l=a(7630),i=a(4964),c=a(7424),o=a(9456),m=a(5618),u=a(4235),d=a(8054),g=a(1605),f=a(3734),p=a(9976),h=a(200),x=a(9092),v=a(3536),P=a(3297),A=a(8069),k=a(579);const j=function(){const{t:e}=(0,x.B)(["common"]),t=(0,o.wA)(),{errorPackmans:a,packmans:j,successAddPackman:w,successUpdatePackman:y,successDeletePackman:S,loading:E,searchedPackmans:C,total:N,totalSearched:b}=(0,o.d4)((e=>e.packmans)),B=[{styles:"w-[10%] text-start",filter:"",title:"\u2116"},{styles:"w-[80%] text-start",filter:"",title:e("Agentlar")},{styles:"w-[10%]",filter:"",title:" "}],[D,W]=(0,s.useState)([]),[_,z]=(0,s.useState)(""),[L,q]=(0,s.useState)(""),[T,Y]=(0,s.useState)(""),[$,F]=(0,s.useState)(null),[M,O]=(0,s.useState)(!1),[R,U]=(0,s.useState)(!1),[J,Q]=(0,s.useState)("10"),[X,Z]=(0,s.useState)(0),[G,H]=(0,s.useState)(N),[I,K]=(0,s.useState)(""),[V,ee]=(0,s.useState)(window.innerWidth<=768);(0,s.useEffect)((()=>{const e=()=>{ee(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const te=()=>O(!M),ae=e=>{Y(e),q(e.name),U(!0)},se=e=>{F(e),te()},ne=()=>{O(!1),F(null)},re=e=>{e&&e.preventDefault(),q(""),U(!1),F(null),Y(null)},le=e=>{let{value:t}=e;Q(t),Z(0)};return(0,s.useEffect)((()=>{a&&((0,f.lY)(a,"error"),t((0,p.Ev)())),w&&((0,f.JS)(),t((0,p.WY)()),re()),y&&((0,f.Nb)(),t((0,p.Uf)()),Y(""),U(!1),re()),S&&((0,f.RC)(),t((0,p.Ag)()),re())}),[t,a,w,y,S]),(0,s.useEffect)((()=>{const e={currentPage:X,countPage:J,search:{name:I.replace(/\s+/g," ").trim()}};t((0,p.Zd)(e))}),[t,J,X]),(0,s.useEffect)((()=>{W(j)}),[j]),(0,s.useEffect)((()=>{H(N)}),[N]),(0,s.useEffect)((()=>{z(C)}),[C]),(0,k.jsxs)(g.P.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.8,ease:[.04,.62,.23,.98]},children:[(0,k.jsx)(m.A,{headerText:`${$&&$.name} ${e("ismli agentni o'chirishni tasdiqlaysizmi?")}`,title:e("O'chirilgan agentni tiklashning imkoni mavjud emas!"),toggleModal:te,body:"approve",approveFunction:()=>{const e={_id:$._id,currentPage:X,countPage:J,search:{name:I.replace(/\s+/g," ").trim()}};t((0,p.ft)(e)),ne()},closeModal:ne,isOpen:M}),(0,k.jsxs)("form",{className:`sale-deliver-form ps-[20px] mt-[40px] flex lg:flex-nowrap flex-wrap ${R&&"stickyForm"}`,children:[(0,k.jsx)(l.A,{onChange:e=>{q(e.target.value)},value:L,label:e("Agentning ismi"),placeholder:e("misol: Anvar"),maxWidth:"w-[43.75rem]",type:"string"}),(0,k.jsxs)("div",{className:"flex gap-[1.25rem] grow items-end",children:[(0,k.jsx)(n.A,{add:!R,edit:R,text:e(R?"Saqlash":"Yangi agent qo`shish"),onClick:R?a=>{a.preventDefault();const{failed:s,message:n}=(0,h.py)([{value:L,message:e("Agent ismi")}]);if(s)(0,f.EB)(n);else{const e={name:L,_id:T._id,currentPage:X,countPage:J,search:{name:I.replace(/\s+/g," ").trim()},market:T.market};t((0,p.bQ)(e))}}:a=>{a.preventDefault();const{failed:s,message:n}=(0,h.py)([{value:L,message:e("Agent ismi")}]);if(s)(0,f.EB)(n);else{const e={name:L,currentPage:X,countPage:J,search:{name:I.replace(/\s+/g," ").trim()}};t((0,p.hX)(e)),q("")}}}),(0,k.jsx)(n.A,{text:e("Tozalash"),onClick:re})]})]}),(0,k.jsxs)("div",{className:"flex ps-[10px] items-center ",children:[(0,k.jsx)(A.A,{onSelect:le},"total_1"),(0,k.jsx)(c.A,{filterBy:["total","name"],filterByTotal:le,filterByName:e=>{let a=e.target.value;K(a);let s=a.toLowerCase().replace(/\s+/g," ").trim();if((_.length>0||b>0)&&t((0,p.pR)()),""===s)W(j),H(N);else{const e=(0,v.filter)(j,(e=>e.name.toLowerCase().includes(s)));W(e),H(e.length)}},searchByName:I,filterByCodeAndNameAndCategoryWhenPressEnter:e=>{if("Enter"===e.key){const e={currentPage:X,countPage:J,search:{name:I.replace(/\s+/g," ").trim()}};t((0,p.Wg)(e))}}})]}),(0,k.jsx)("div",{className:"lg:tableContainerPadding",children:E?(0,k.jsx)(u.A,{}):0===D.length?(0,k.jsx)(d.A,{text:"Agentlar mavjud emas"}):V?(0,k.jsx)(P.A,{page:"packman",currentPage:X,countPage:J,data:_.length>0?_:D,headers:B,Delete:se,Edit:ae}):(0,k.jsx)(r.A,{page:"packman",currentPage:X,countPage:J,data:_.length>0?_:D,headers:B,Delete:se,Edit:ae})}),(0,k.jsx)("div",{className:"flex justify-center mt-[30px] mb-[30px]",children:(0!==G||0!==b)&&(0,k.jsx)(i.A,{countPage:Number(J),totalDatas:b||G,setCurrentPage:Z,currentPage:X})})]},"content")}}}]);
//# sourceMappingURL=9990.5125c94c.chunk.js.map