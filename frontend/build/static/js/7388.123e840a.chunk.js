"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1181,7388],{7275:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);const s=a.p+"static/media/Excel.3a5a1731280185e0e4ae99ee0a4eebfc.svg"},3237:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(7275),l=a(9092),r=a(579);const n=function(e){let{onClick:t}=e;const{t:a}=(0,l.B)(["common"]);return(0,r.jsxs)("button",{className:"exportButton ",onClick:t,children:[a("Eksport"),(0,r.jsx)("span",{className:"btn-icon bg-white-900 p-[8px]",children:(0,r.jsx)("img",{src:s.A,alt:"excel icon"})})]})}},1204:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(5475),l=a(221),r=a(579);const n=e=>{let{link:t}=e;return(0,r.jsx)(s.N_,{to:t,className:"lg:mt-[10px] lg:ms-[20px] mt-[50px] ms-[30px] linktoback",children:(0,r.jsx)(l.feN,{className:"mt-[]"})})}},6270:(e,t,a)=>{a.d(t,{A:()=>v});var s=a(221),l=(a(5043),a(579));const r=e=>{let{onClick:t,text:a,type:r,active:n}=e;const i={cash:(0,l.jsx)(s.iS_,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,l.jsx)(s.dBf,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,l.jsx)(s.whc,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,l.jsx)(s.m_O,{className:"paymentsstyle",size:"1.3125rem"})};return(0,l.jsxs)("button",{onClick:()=>t(r),className:"salestyle "+(n?"bg-primary-700 text-white-900":"bg-[#E9ECEB]"),children:[i[r],a]})},n=e=>{let{onClick:t,text:a}=e;return(0,l.jsxs)("button",{onClick:t,className:"discountstyle w-full h-[3.25rem] bg-warning-500 text-white-900 duration-200 shadow-lg",children:[(0,l.jsx)(s.YbJ,{className:"discstyle",size:"1.5rem"}),a]})},i=e=>{let{onClick:t,text:a,onDoubleClick:r}=e;return(0,l.jsxs)("button",{onClick:t,onDoubleClick:r,className:"paymentstyle grow",children:[(0,l.jsx)(s.SXw,{className:"paystyle",size:"1.3125rem"}),a]})};var o=a(9456),c=a(1318),u=a(2234);const d=e=>(0,l.jsx)(u.c.DropdownIndicator,{...e,children:(0,l.jsx)(s.QDT,{size:"0.625rem"})}),m={control:e=>({...e,borderTopRightRadius:".125rem",borderBottomRightRadius:".125rem",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",fontSize:"0.75rem",fontWeight:"400",padding:"0.375rem 0.3125rem",color:"#071F45",outline:"none",border:"none",boxShadow:"none",cursor:"pointer",height:"100%",backgroundColor:"#F79009",minHeight:"100%","&:hover":{backgroundColor:"#DC6803"}}),container:e=>({...e,height:"100%",position:"absolute",right:0,width:"3rem",top:0,bottom:0}),option:(e,t)=>{let{isFocused:a,isSelected:s}=t;return{...e,fontSize:".75rem",fontWeight:"400",color:s||a?"#ffffff":"#071F45",backgroundColor:s?"#0090A3":a?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer",textAlign:"center"}},menu:e=>({...e,overflow:"hidden"}),singleValue:e=>({...e,fontSize:".75rem",fontWeight:"400",color:"#ffffff",margin:0,textAlign:"center"}),valueContainer:e=>({...e,padding:0}),indicatorsContainer:e=>({...e}),dropdownIndicator:e=>({...e,padding:0,color:"#ffffff"})};var p=a(2096);const h=function(e){let{value:t,onChange:a,option:s,onSelect:r}=e;const{currencyType:n}=(0,o.d4)((e=>e.currency)),i=[{value:n,label:n},{value:"%",label:"%"}];return(0,l.jsxs)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:[(0,l.jsx)("input",{className:"w-[8.6875rem] placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-l-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:`${(0,p.t)("misol")}: 100 000 000`,type:"number",value:t,onChange:e=>{a(e.target.value)},onWheel:e=>e.target.blur(),min:0}),(0,l.jsx)(c.Ay,{onChange:r,styles:m,isSearchable:!1,value:s,options:i,components:{IndicatorSeparator:()=>null,DropdownIndicator:d}})]})},x=e=>{let{value:t,onChange:a,option:s,onSelect:r}=e;return(0,l.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,l.jsxs)("div",{className:"text-black-700 text-[0.875rem]",children:[(0,p.t)("Chegirma")," :"]}),(0,l.jsx)(h,{onChange:a,onSelect:r,value:t,option:s})]})};var b=a(6899);const g=e=>{let{onClick:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{onClick:t,className:"exitbtn",children:(0,l.jsx)(s.FyX,{size:"0.75rem"})})})};const y=function(e){let{mix:t,value:a,onChange:s,label:r,onClose:n,keyInput:i,placeholder:o,type:c}=e;return(0,l.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,l.jsxs)("span",{className:"custom-payment-text-style",children:[r," :"]}),(0,l.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,l.jsx)(b.A,{placeholder:o||`${(0,p.t)("misol")}: 100 000 000`,type:c||"number",value:a,onChange:e=>{s(e.target.value,i)}}),t&&(0,l.jsx)(g,{onClick:()=>n(i)})]})]})};var f=a(3216);const v=function(e){let{returned:t,active:a,togglePaymentModal:c,type:u="cash",cash:d="",card:m="",transfer:h="",discount:b,hasDiscount:g,debt:v,allPayment:N,paid:j=0,client:C="",onChange:k,onClose:S,changePaymentType:w,discountSelectOption:z,handleClickDiscountBtn:D,handleChangeDiscountSelectOption:A,handleChangeDiscount:U,handleClickPay:P,saleComment:I,changeComment:T,onDoubleClick:q,clickdelay:_}=e;const B=(0,f.zy)(),L=()=>{switch(u){case"card":return(0,l.jsx)(y,{value:m,keyInput:u,onChange:k,onClose:S,label:(0,p.t)("Plastik")},"sale-card1");case"transfer":return(0,l.jsx)(y,{value:h,keyInput:u,onChange:k,onClose:S,label:(0,p.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,p.t)("Naqd"),key:"cash",value:d},{label:(0,p.t)("Plastik"),key:"card",value:m},{label:(0,p.t)("O`tkazma"),key:"transfer",value:h}].map((e=>(0,l.jsx)(y,{value:e.value,keyInput:e.key,onChange:k,onClose:S,label:(0,p.t)(e.label)},`sale-${e.key}`)));default:return(0,l.jsx)(y,{value:d,onChange:k,keyInput:u,onClose:S,label:(0,p.t)("Naqd")},"sale-cash")}},{currencyType:R}=(0,o.d4)((e=>e.currency));return(0,l.jsxs)("section",{className:"fixed transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 "+(a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:c,children:[(0,l.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,p.t)("")}),(0,l.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 "+(a?"translate-x-0":"translate-x-full"),onClick:e=>e.stopPropagation(),autoFocus:!0,children:[(0,l.jsxs)("div",{className:"top-payment w-full",children:[C&&(0,l.jsxs)("div",{className:"customer-head-icon",children:[(0,l.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,l.jsx)(s.uSr,{className:"mr-[0.75rem]"}),(0,l.jsxs)("span",{children:[(0,p.t)("Mijoz")," : "]})]}),(0,l.jsx)("h3",{className:"text-[0.875rem]",children:C})]}),(0,l.jsxs)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:[N.toLocaleString("ru-Ru")," ",R]}),(0,l.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&L(),(B.pathname.includes("/kassa/debts")||B.pathname.includes("/qarzdorlar")||B.pathname.includes("/maxsulotlar/qabul/qabulqilish")||B.pathname.includes("/maxsulotlar/qabul/qabullar"))&&L(),(0,l.jsx)(y,{value:I,keyInput:u,onChange:T,onClose:S,label:(0,p.t)("Izoh"),placeholder:(0,p.t)("misol: qarzga olindi"),type:"text"},"sale-card"),g&&(0,l.jsx)(x,{value:b,onChange:U,option:z,onSelect:A}),(0,l.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,l.jsxs)("span",{className:"custom-payment-text-style",children:[(0,p.t)("Qarzlar")," :"," "]}),(0,l.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[v.toLocaleString("ru-Ru")," ",R]})]}),(0,l.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,l.jsxs)("span",{className:"custom-payment-text-style",children:[N<0?(0,p.t)("Qaytarilayotgan"):(0,p.t)("To`lanayotgan")," ",":"," "]}),(0,l.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[j.toLocaleString("ru-Ru")," ",R]})]})]})]}),(0,l.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,l.jsxs)("div",{className:"custom-paymet-btn",children:[(0,l.jsx)(r,{text:(0,p.t)("Naqd"),type:"cash",active:"cash"===u,onClick:w}),(0,l.jsx)(r,{text:(0,p.t)("Plastik"),type:"card",active:"card"===u,onClick:w}),(0,l.jsx)(r,{text:(0,p.t)("O'tkazma"),type:"transfer",active:"transfer"===u,onClick:w}),!t&&(0,l.jsx)(r,{text:(0,p.t)("Aralash"),type:"mixed",active:"mixed"===u,onClick:w}),B.pathname.includes("/kassa/debts")&&(0,l.jsx)(r,{text:(0,p.t)("Aralash"),type:"mixed",active:"mixed"===u,onClick:w})]}),!t&&(0,l.jsx)(n,{text:(0,p.t)("Chegirma"),onClick:D}),(0,l.jsx)(i,{text:(0,p.t)("To'lash"),onClick:_?()=>console.log("wait"):P})]})]})]})}},2008:(e,t,a)=>{a.d(t,{A:()=>r});a(5043);var s=a(9092),l=a(579);const r=e=>{let{connectors:t,styles:a,currencyType:r}=e;const{t:n}=(0,s.B)(["common"]);return(0,l.jsxs)("div",{className:`productTypeBlock ${a}`,children:[(0,l.jsxs)("div",{className:"productType",children:[n("Maxsulotlar soni"),":"," ",(0,l.jsx)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:t.reduce(((e,t)=>e+t.products),0).toLocaleString("ru-RU")})]}),(0,l.jsxs)("div",{className:"productSumAll",children:[n("Jami")," :"," ",(0,l.jsxs)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:[t.length>0?"USD"===r?t.reduce(((e,t)=>e+t.totalprice),0).toLocaleString("ru-RU"):t.reduce(((e,t)=>e+t.totalpriceuzs),0).toLocaleString("ru-RU"):0," ",r]})]})]})}},5526:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(5043),l=a(9456),r=a(3216),n=a(3237),i=a(2096),o=a(579);const c=e=>{let{products:t,deliver:a,date:s,pieces:r,onClick:n,debt:c=0,debtUzs:u=0,paid:d=0,paidUzs:m=0,all:p=0,allUzs:h=0,onClickPayDebt:x,id:b,time:g}=e;const{currencyType:y}=(0,l.d4)((e=>e.currency));return(0,o.jsxs)("div",{onClick:n,className:"flex-[0_0_23.5%] cardStyle",children:[(0,o.jsx)("h1",{className:"headerStyle",children:a}),(0,o.jsxs)("div",{className:"text-[.875rem] mt-[1rem] text-center",children:[(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Maxsulot turlari"),":"]}),(0,o.jsx)("p",{children:t.toLocaleString("ru-Ru")})]}),(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsx)("p",{className:"paragrafCardBtn",children:(0,i.t)("Maxsulotlar soni")}),(0,o.jsx)("p",{children:r.toLocaleString("ru-Ru")})]}),(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Sana"),":"]}),(0,o.jsx)("p",{children:s})]}),(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Vaqti"),":"]}),(0,o.jsx)("p",{className:"text-warning-200",children:g})]}),(0,o.jsx)("span",{className:"block h-[1px] bg-white-400 my-[0.5rem]"}),(0,o.jsxs)("div",{className:"numberCard items-center",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Umumiy")," :"]}),(0,o.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-primary-700",children:["UZS"===y?h:p," ",(0,o.jsx)("span",{children:y})]})]}),(0,o.jsxs)("div",{className:"numberCard items-center",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("To'langan")," :"]}),(0,o.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-success-500",children:["UZS"===y?m:d," ",(0,o.jsx)("span",{children:y})]})]}),0!==c&&(0,o.jsxs)("div",{className:"numberCard items-center",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Qarzlar")," :"]}),(0,o.jsxs)("span",{className:"block p-[0.2rem_0.5rem] rounded-[4px] bg-error-500",children:["UZS"===y?u.toLocaleString("ru-Ru"):c.toLocaleString("ru-Ru")," ",(0,o.jsx)("span",{children:y})]})]}),0!==c&&(0,o.jsx)("button",{className:"mt-[1rem] p-[.5rem_1rem] rounded-[1rem] text-center bg-error-500 text-white-900 hover:bg-warning-500 duration-200 active:scale-95 shadow-[0_0_10px_rgba(255,255,255,0.2)] active:shadow-none",onClick:e=>{x({debt:c,debtUzs:u,deliver:a,id:b}),e.stopPropagation()},children:(0,i.t)("Qarzni to'lash")})]})]})};var u=a(1204),d=a(4964),m=a(2008),p=a(7919),h=a(200),x=a(7424),b=a(3536),g=a(5618),y=a(9092),f=a(6270),v=a(3734),N=a(8054),j=a(2039),C=a(4235);const k=()=>{const{t:e}=(0,y.B)(["common"]),t=(0,l.wA)(),{market:{_id:a},user:i}=(0,l.d4)((e=>e.login)),{incomings:k,incomingscount:S,incomingconnectors:w,successUpdate:z,successDelete:D,loadingExcel:A}=(0,l.d4)((e=>e.incoming)),{currencyType:U,currency:P}=(0,l.d4)((e=>e.currency)),{state:{date:I,supplier:T}}=(0,r.zy)();let q=new Date(new Date(I).setHours(3,0,0,0)).toISOString(),_=new Date(new Date(I).setHours(26,59,59,59)).toISOString();const[B,L]=(0,s.useState)(0),[R,E]=(0,s.useState)(10),[O,Q]=(0,s.useState)({name:"",code:"",supplier:T}),[M,F]=(0,s.useState)({name:"",code:"",supplier:T}),[H,Y]=(0,s.useState)({filter:"",sort:"",count:0}),[K,J]=(0,s.useState)([]),[W,Z]=(0,s.useState)([]),[$,V]=(0,s.useState)([]),[X,G]=(0,s.useState)([]),[ee,te]=(0,s.useState)({}),[ae,se]=(0,s.useState)(""),[le,re]=(0,s.useState)(!1),[ne,ie]=(0,s.useState)("cash"),[oe,ce]=(0,s.useState)(""),[ue,de]=(0,s.useState)(""),[me,pe]=(0,s.useState)(""),[he,xe]=(0,s.useState)(""),[be,ge]=(0,s.useState)(""),[ye,fe]=(0,s.useState)(""),[ve,Ne]=(0,s.useState)(0),[je,Ce]=(0,s.useState)(0),[ke,Se]=(0,s.useState)(0),[we,ze]=(0,s.useState)(0),[De,Ae]=(0,s.useState)(0),[Ue,Pe]=(0,s.useState)(0),[Ie,Te]=(0,s.useState)("approve"),[qe,_e]=(0,s.useState)(!1),[Be,Le]=(0,s.useState)(P),[Re,Ee]=(0,s.useState)(""),[Oe,Qe]=(0,s.useState)(""),[Me,Fe]=(0,s.useState)("");let He=null;const Ye=(0,s.useCallback)((e=>{let t=[];for(let s of e){let e={_id:s._id,createdAt:new Date(s.createdAt).toLocaleDateString(),time:new Date(s.createdAt).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hourCycle:"h24"}),supplier:{...s.supplier},products:s.incoming.length,pieces:(a=s.incoming,a.reduce(((e,t)=>e+t.pieces),0)),totalprice:s.total,totalpriceuzs:s.totaluzs,totalpayment:s.totalpayment,totalpaymentuzs:s.totalpaymentuzs,debt:s.debt,debtuzs:s.debtuzs};t.push(e)}var a;J(t)}),[]),Ke=()=>{$.some((e=>e.pieces===ee.pieces&&e.unitprice===ee.unitprice&&e.sellingprice===ee.sellingprice))?te({}):t((0,p.AH)({market:a,startDate:q,endDate:_,product:{...ee}}))},Je=(0,s.useCallback)((()=>{t((0,p.qQ)({market:a,beginDay:q,endDay:_,currentPage:B,countPage:R,search:O}))}),[t,a,q,_,B,R,O]),We=(0,s.useCallback)((()=>{t((0,p.Hu)({market:a,beginDay:q,endDay:_}))}),[t,a,q,_]),Ze=()=>{_e(!qe),setTimeout((()=>{Te(""),se({})}),500)},$e=e=>Math.round(1e3*e)/1e3,Ve=e=>Math.round(e),Xe=e=>{re(e?!le:e),ie("cash"),Ne(0),Ce(0)},Ge=(e,t)=>{const a=Math.abs(ke),s=Math.abs(we);if("USD"===U)if("cash"===t){const t=Number(e)+Number(me)+Number(be),l=Number((0,h.IQ)(e,Be))+Number(he)+Number(ye);t<=a?(ce(e),de((0,h.IQ)(e,Be)),Ne($e(a-t)),Ce(Ve(s-l)),Ae(t),Pe(l)):(0,v.OC)()}else if("card"===t){const t=Number(e)+Number(oe)+Number(be),l=Number(ue)+Number((0,h.IQ)(e,Be))+Number(ye);t<=a?(pe(e),xe((0,h.IQ)(e,Be)),Ne($e(a-t)),Ce(Ve(s-l)),Ae(t),Pe(l)):(0,v.OC)()}else{const t=Number(e)+Number(oe)+Number(me),l=Number(ue)+Number(he)+Number((0,h.IQ)(e,Be));t<=a?(ge(e),fe((0,h.IQ)(e,Be)),Ne($e(a-t)),Ce(Ve(s-l)),Ae(t),Pe(l)):(0,v.OC)()}else if("cash"===t){const t=Number(e)+Number(he)+Number(ye),l=Number((0,h.Ch)(e,Be))+Number(me)+Number(be);t<=s?(de(e),ce((0,h.Ch)(e,Be)),Ne($e(a-l)),Ce(Ve(s-t)),Ae(l),Pe(t)):(0,v.OC)()}else if("card"===t){const t=Number(e)+Number(ue)+Number(ye),l=Number(oe)+Number((0,h.Ch)(e,Be))+Number(be);t<=s?(pe((0,h.Ch)(e,Be)),xe(e),Ne($e(a-l)),Ce(Ve(s-t)),Ae((0,h.Ch)(t,Be)),Pe(t)):(0,v.OC)()}else{const t=Number(e)+Number(ue)+Number(he),l=Number(oe)+Number(me)+Number((0,h.Ch)(e,Be));t<=s?(ge((0,h.Ch)(e,Be)),fe(e),Ne($e(a-l)),Ce(Ve(s-t)),Ae(l),Pe(t)):(0,v.OC)()}},et=e=>{const t=e.debt,a=e.debtUzs;Qe(e.deliver),Fe(e.id),Se(t),ze(a),ce(t),de(a),Ae(t),Pe(a),re(!0),Le(Ve(a/t)),re(!0)},tt=()=>{const e=e=>e<0&&e||-1*e,s={payment:{payment:Number(ke<0?e(oe):oe)+Number(ke<0?e(me):me)+Number(ke<0?e(be):be),paymentuzs:Number(ke<0?e(ue):ue)+Number(ke<0?e(he):he)+Number(ke<0?be<0&&e(ye):ye),type:ne,cash:Number(ke<0?e(oe):oe),cashuzs:Number(we<0?e(ue):ue),card:Number(ke<0?e(me):me),carduzs:Number(ke<0?e(he):he),transfer:Number(ke<0?e(be):be),transferuzs:Number(ke<0?e(ye):ye),comment:Re},user:i._id,incomingconnectorid:Me};t((0,p.IH)(s)).then((e=>{let{error:s}=e;s||(t((0,p.Hu)({market:a,beginDay:q,endDay:_})),_e(!1),Te(""),Xe())}))};(0,s.useEffect)((()=>{Je()}),[Je]),(0,s.useEffect)((()=>{z&&(Je(),We(),te({}),t((0,p.KC)()))}),[t,Je,We,z]),(0,s.useEffect)((()=>{D&&(Je(),t((0,p.FT)()))}),[t,Je,D]),(0,s.useEffect)((()=>{We()}),[We]),(0,s.useEffect)((()=>{Ye(w)}),[w,Ye]),(0,s.useEffect)((()=>{(e=>{let t=(0,b.map)(e,(e=>({...e,sellingprice:e.product.price.sellingprice,sellingpriceuzs:e.product.price.sellingpriceuzs})));Z(t),V(t),G(t)})(k)}),[k]);const at=[{title:"\u2116"},{title:e("Yetkazuvchi"),styles:"w-[10%]"},{title:e("Kodi"),filter:"product.productdata.code",styles:"w-[7%]"},{title:e("Nomi"),filter:"product.productdata.name"},{title:e("Soni"),styles:"w-[10%]"},{title:e("Kelish"),styles:"w-[10%]"},{title:e("Jami"),styles:"w-[15%]"},{title:e("Sotish"),styles:"w-[10%]"},{title:"",styles:"w-[5%]"}];return(0,o.jsxs)("div",{className:"relative grow overflow-hidden",children:[A&&(0,o.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[100] left-0 top-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,o.jsx)(C.A,{})}),(0,o.jsx)(f.A,{returned:!0,type:ne,active:le,togglePaymentModal:Xe,changePaymentType:e=>{if(ne!==e)switch(ie(e),e){case"cash":ce(ke),de(we),pe(""),xe(""),ge(""),fe(""),Ae(ke),Pe(we),Ne(0),Ce(0);break;case"card":pe(ke),xe(we),ce(""),de(""),ge(""),fe(""),Ae(ke),Pe(we),Ne(0),Ce(0);break;case"transfer":ge(ke),fe(we),ce(""),de(""),pe(""),xe(""),Ae(ke),Pe(we),Ne(0),Ce(0);break;default:ce(""),de(""),pe(""),xe(""),ge(""),fe(""),Ae(0),Pe(0),Ne(ke),Ce(we)}},onChange:(e,t)=>{Ge(e,t)},client:Oe,allPayment:"USD"===U?ke:we,card:"USD"===U?me:he,cash:"USD"===U?oe:ue,debt:"USD"===U?ve:je,hasDiscount:!1,transfer:"USD"===U?be:ye,paid:"USD"===U?De:Ue,handleClickPay:()=>{null===He&&(He=window.setTimeout((()=>{He=null,Te("complete"),_e(!0)}),300))},changeComment:e=>{Ee(e)},saleComment:Re,onDoubleClick:()=>{window.clearTimeout(He),He=null,tt()}}),(0,o.jsxs)("div",{className:"absolute left-0 right-0 top-0 bottom-0 overflow-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mainPadding",children:[(0,o.jsx)(u.A,{link:"/maxsulotlar/qabul/qabullar"}),(0,o.jsx)(m.A,{connectors:K,currencyType:U})]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-[2.5rem_2%] mainPadding",children:K.length>0&&(0,b.map)(K,(e=>(0,o.jsx)(c,{date:e.createdAt,time:e.time,deliver:e.supplier.name,products:e.products,pieces:e.pieces,debt:e.debt,debtUzs:e.debtuzs,paid:e.totalpayment,paidUzs:e.totalpaymentuzs,all:e.totalprice,allUzs:e.totalpriceuzs,onClickPayDebt:et,id:e._id,onClick:()=>(e=>{const t=(0,b.filter)(W,(t=>t.incomingconnector===e));V(t),G(t)})(e._id)},(0,b.uniqueId)("card"))))}),$.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mainPadding flex items-center justify-between",children:[(0,o.jsx)(n.A,{onClick:()=>{let a=`Maxsulotlar-qabul-qabullar - ${(new Date).toLocaleDateString()}`;const s=["\u2116",e("Yetkazuvchi"),e("Kodi"),e("Nomi"),e("Soni"),e("Kelish UZS"),e("Kelish USD"),e("Jami UZS"),e("Jami USD")],l={beginDay:q,endDay:_};t((0,p.FW)(l)).then((e=>{let{error:t,payload:l}=e;if(!t)if((null===l||void 0===l?void 0:l.length)>0){const e=(0,b.map)(l,((e,t)=>{var a,s,l,r,n,i;return{nth:t+1,supplier:(null===e||void 0===e||null===(a=e.supplier)||void 0===a?void 0:a.name)||"",code:(null===e||void 0===e||null===(s=e.product)||void 0===s||null===(l=s.productdata)||void 0===l?void 0:l.code)||"",name:(null===e||void 0===e||null===(r=e.product)||void 0===r||null===(n=r.productdata)||void 0===n?void 0:n.name)||"",count:(null===e||void 0===e?void 0:e.pieces)+" "+(null===e||void 0===e||null===(i=e.unit)||void 0===i?void 0:i.name)||"",unit:(null===e||void 0===e?void 0:e.unitpriceuzs)||"",unitusd:(null===e||void 0===e?void 0:e.unitprice)||"",all:(null===e||void 0===e?void 0:e.totalpriceuzs)||"",allusd:(null===e||void 0===e?void 0:e.totalprice)||""}}));(0,h.m1)(e,a,s)}else(0,v.lY)("Jadvalda ma'lumot mavjud emas !","warning")}))}}),(0,o.jsx)("span",{children:e("Ro`yxat")}),(0,o.jsx)(d.A,{currentPage:B,setCurrentPage:L,countPage:R,totalDatas:S})]}),(0,o.jsx)(x.A,{filterBy:["total","code","name"],filterByName:e=>{let t=e.target.value.toLowerCase();V([...(0,b.filter)([...X],(e=>{let{product:a}=e;return a.productdata.name.toLowerCase().includes(t)}))]),F({...M,name:t})},filterByTotal:e=>E(e.value),filterByCode:e=>{let t=e.target.value.toLowerCase();V([...(0,b.filter)([...X],(e=>{let{product:a}=e;return a.productdata.code.includes(t)}))]),F({...M,code:t})},filterByCodeAndNameAndCategoryWhenPressEnter:e=>{"Enter"===e.key&&Q(M)}}),(0,o.jsx)("div",{className:"tableContainerPadding",children:(0,o.jsx)(j.A,{page:"incomings",headers:at,data:$,currentPage:B,countPage:R,currency:U,editedIncoming:ee,Edit:e=>{te(e)},changeHandler:(e,t)=>{let a=Number(e.target.value),s={...ee};const l=e=>t===e,r="USD"===U?a:(0,h.Ch)(a,P),n="UZS"===U?a:(0,h.IQ)(a,P);l("pieces")&&(s.pieces=a,s.totalprice=a*s.unitprice,s.totalpriceuzs=a*s.unitpriceuzs),l("unitprice")&&(s.unitprice=r,s.unitpriceuzs=n,s.totalprice=r*s.pieces,s.totalpriceuzs=n*s.pieces),l("sellingprice")&&(s.sellingprice=r,s.sellingpriceuzs=n),te(s)},saveEditIncoming:Ke,Delete:e=>(e=>{se(e),_e(!0),Te("approve")})(e),Sort:e=>{if(e===H.filter)switch(H.count){case 1:Y({filter:e,sort:"1",count:2}),(0,h.Yc)($,V,e,1,X);break;case 2:Y({filter:e,sort:"",count:0}),(0,h.Yc)($,V,e,"",X);break;default:Y({filter:e,sort:"-1",count:1}),(0,h.Yc)($,V,e,-1,X)}else Y({filter:e,sort:"-1",count:1}),(0,h.Yc)($,V,e,-1,X)},onKeyUp:e=>{"Enter"===e.key&&Ke()},sortItem:H})})]}):(0,o.jsx)(N.A,{text:`${e("Qabullar mavjud emas...")}`}),(0,o.jsx)(g.A,{body:Ie,isOpen:qe,headerText:e("complete"===Ie?"To'lovni amalga oshirishni tasdiqlaysizmi ?":"Mahsulotni o`chirishni tasdiqlaysizmi?"),title:e("complete"===Ie?"To'lovni amalga oshirgach bu ma`lumotlarni o`zgaritirb bo`lmaydi !":"O`chirilgan mahsulotni tiklashning imkoni mavjud emas!"),approveFunction:"complete"===Ie?tt:()=>{t((0,p.om)({market:a,beginDay:q,endDay:_,product:{...ae}})),Ze()},toggleModal:Ze})]})]})}}}]);
//# sourceMappingURL=7388.123e840a.chunk.js.map