"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[968,1181],{2218:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var r=i(5043),s=i(9456),a=i(3216),l=i(2039),c=i(200),n=i(9092),o=i(7919),u=i(3536),p=i(8054),d=i(5618),m=i(579);const f=()=>{const{t:e}=(0,n.B)(["common"]),t=(0,s.wA)();let i=(0,a.Zp)();const[f,g]=(0,r.useState)({filter:"",sort:"",count:0}),{market:{_id:y}}=(0,s.d4)((e=>e.login)),{currencyType:b}=(0,s.d4)((e=>e.currency)),{temporaries:k}=(0,s.d4)((e=>e.incoming)),[w,h]=(0,r.useState)([]),[A,S]=(0,r.useState)([]),[_,v]=(0,r.useState)(!1),[x,q]=(0,r.useState)("approve"),[j,Y]=(0,r.useState)({}),C=()=>{v(!_),Y({}),q("")},z=(0,r.useCallback)((e=>{const t=(e,t)=>e.reduce(((e,i)=>e+i[t]),0),i=(0,u.map)(e,(e=>{let{_id:i,createdAt:r,temporaryincoming:{supplier:s,incomings:a}}=e;return{_id:i,createdAt:r,supplier:s,incomings:{totalprice:t(a,"totalprice"),totalpriceuzs:t(a,"totalpriceuzs"),pieces:t(a,"pieces")},temporaries:a}}));h(i),S(i)}),[]);(0,r.useEffect)((()=>{t((0,o.Wt)({market:y}))}),[t,y]);(0,r.useEffect)((()=>{z(k)}),[k,z]);const E=[{title:"\u2116",styles:"w-[8%]"},{title:e("Yetkazib beruvchi"),filter:"supplier.name",styles:""},{title:e("Maxsulotlar"),filter:"incomings.pieces",styles:"w-[10%]"},{title:e("Jami"),filter:"incomings.totalprice",styles:"w-[10%]"},{title:e("Sana"),filter:"createdAt",styles:"w-[10%]"},{title:e("Vaqti"),filter:"createdAt",styles:"w-[10%]"},{title:"",styles:"w-[10%]"}];return(0,m.jsxs)("div",{className:"tableContainerPadding  grow mainPadding",children:[(0,m.jsx)(d.A,{isOpen:_,body:x,printedIncomings:j,toggleModal:C}),w.length>0?(0,m.jsx)(l.A,{page:"temporaryincoming",headers:E,data:w,currency:b,Edit:e=>{const r=(0,u.filter)(k,(t=>t._id===e._id))[0];t((0,o.d5)({_id:e._id,incomings:r.temporaryincoming.incomings,supplier:e.supplier})),i("/maxsulotlar/qabul/qabulqilish")},Delete:e=>{t((0,o.vf)({_id:e._id}))},Sort:e=>{if(e===f.filter)switch(f.count){case 1:g({filter:e,sort:"1",count:2}),(0,c.Yc)(w,h,e,1,A);break;case 2:g({filter:e,sort:"",count:0}),(0,c.Yc)(w,h,e,"",A);break;default:g({filter:e,sort:"-1",count:1}),(0,c.Yc)(w,h,e,-1,A)}else g({filter:e,sort:"-1",count:1}),(0,c.Yc)(w,h,e,-1,A)},sortItem:f,Print:e=>{C(),q("savedincomingscheck"),Y({createdAt:e.createdAt,temporaries:e.temporaries,supplier:e.supplier})}}):(0,m.jsx)(p.A,{text:e("Saqlangan qabullar mavjud emas")})]})}}}]);
//# sourceMappingURL=968.127f6f8b.chunk.js.map